
// Include theming for Angular Material with `mat.theme()`.
// This Sass mixin will define CSS variables that are used for styling Angular Material
// components according to the Material 3 design spec.
// Learn more about theming and how to use it for your application's
// custom components at https://material.angular.dev/guide/theming
@use '@angular/material' as mat;

// Custom Renesas Electronics Blue palette
$renesas-blue-palette: (
  0: #000000,
  10: #0d1033,
  20: #1a2066,
  25: #1e2d6b,
  30: #2f409a,
  35: #3a4da8,
  40: #4a5db8,
  50: #6275c8,
  60: #7b8ed8,
  70: #95a7e5,
  80: #b0c0f0,
  90: #d0daf8,
  95: #e8edfc,
  98: #f5f7fe,
  99: #fafbff,
  100: #ffffff,
);

html {
  @include mat.theme((
    color: (
      primary: $renesas-blue-palette,
      tertiary: $renesas-blue-palette,
    ),
    typography: Roboto,
    density: 0,
  ));
}

body {
  // Default the application to a light color theme. This can be changed to
  // `dark` to enable the dark color theme, or to `light dark` to defer to the
  // user's system settings.
  color-scheme: light;

  // Set a default background, font and text colors for the application using
  // Angular Material's system-level CSS variables. Learn more about these
  // variables at https://material.angular.dev/guide/system-variables
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);

  // Reset the user agent margin.
  margin: 0;
}
/* You can add global styles to this file, and also import other style files */

html, body { height: 100%; }
body { margin: 0; font-family: Roboto, "Helvetica Neue", sans-serif; }

/* Global Material Dialog Styling */
.cdk-overlay-container {
  z-index: 1000 !important;
}

.cdk-overlay-backdrop {
  background-color: rgba(0, 0, 0, 0.32) !important;
}

.mat-mdc-dialog-container {
  background-color: white !important;
  border-radius: 8px !important;
  box-shadow: 0 11px 15px -7px rgba(0,0,0,.2), 0 24px 38px 3px rgba(0,0,0,.14), 0 9px 46px 8px rgba(0,0,0,.12) !important;
}

.mat-mdc-dialog-surface {
  background-color: white !important;
  border-radius: 8px !important;
}

.mat-mdc-dialog-content {
  max-height: 65vh !important;
  overflow-y: auto !important;
}

.mat-mdc-dialog-actions {
  padding: 16px 24px !important;
  border-top: 1px solid var(--mat-sys-outline-variant) !important;
}

/* Workflow Template Dialog Styling */
.workflow-template-dialog {
  .mat-mdc-dialog-container {
    background-color: white !important;
    border-radius: 8px !important;
    padding: 0 !important;
  }

  .mat-mdc-dialog-surface {
    background-color: white !important;
    border-radius: 8px !important;
  }
}

/* Ensure CDK overlay pane has proper positioning */
.cdk-overlay-pane {
  max-width: 100vw !important;
}

/* Only center dialogs, not snackbars */
.cdk-global-overlay-wrapper:has(.mat-mdc-dialog-container) {
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Snackbar positioning - respect verticalPosition setting */
.cdk-global-overlay-wrapper:has(.mat-mdc-snack-bar-container) {
  display: flex !important;
  align-items: flex-start !important;
  justify-content: center !important;
  pointer-events: none;
}

/* Global Snackbar Styles */
.mat-mdc-snack-bar-container {
  margin-top: 16px !important;
  pointer-events: auto;

  &.success-snackbar {
    --mdc-snackbar-container-color: #323232;
    --mdc-snackbar-supporting-text-color: #ffffff;

    .mat-mdc-snackbar-surface {
      background-color: #323232 !important;
    }

    .mat-mdc-snack-bar-label {
      color: #ffffff !important;
    }

    .mat-mdc-button.mat-mdc-snack-bar-action {
      color: #4caf50 !important;
    }
  }

  &.error-snackbar {
    --mdc-snackbar-container-color: #d32f2f;
    --mdc-snackbar-supporting-text-color: #ffffff;

    .mat-mdc-snackbar-surface {
      background-color: #d32f2f !important;
    }

    .mat-mdc-snack-bar-label {
      color: #ffffff !important;
    }

    .mat-mdc-button.mat-mdc-snack-bar-action {
      color: #ffffff !important;
    }
  }
}

/* Default snackbar styling for M3 theme */
.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface {
  background-color: #323232 !important;
}

.mat-mdc-snack-bar-container .mat-mdc-snack-bar-label {
  color: #ffffff !important;
}

.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action {
  color: #90caf9 !important;
}

/* Global table overrides for generic table component - restore original Material Design */
app-generic-table {
  .mat-mdc-card {
    border-radius: 12px !important;
    overflow: hidden !important;
    background-color: var(--mat-sys-surface-container-lowest) !important;
  }

  .mat-mdc-card-header {
    background-color: var(--mat-sys-surface-container) !important;
    border-bottom: 1px solid var(--mat-sys-outline-variant) !important;
  }

  .mat-mdc-table {
    background-color: var(--mat-sys-surface-container-lowest) !important;
  }

  .mat-mdc-header-row {
    background-color: var(--mat-sys-surface-container) !important;
  }

  .mat-mdc-header-cell {
    font-weight: 500 !important;
    color: var(--mat-sys-on-surface) !important;
    border-bottom: 2px solid var(--mat-sys-primary) !important;
    background-color: var(--mat-sys-surface-container) !important;
  }

  .mat-mdc-row:hover {
    background-color: var(--mat-sys-surface-container-highest) !important;
  }

  .mat-mdc-cell {
    color: var(--mat-sys-on-surface) !important;
    border-bottom: 1px solid var(--mat-sys-outline-variant) !important;
  }

  // Search input styling
  .filter-section {
    .mat-mdc-form-field {
      .mat-mdc-text-field-wrapper {
        background-color: var(--mat-sys-surface-container) !important;
      }

      .mat-mdc-form-field-outline {
        border-color: var(--mat-sys-outline-variant) !important;
      }

      .mat-mdc-form-field-outline-start,
      .mat-mdc-form-field-outline-end,
      .mat-mdc-form-field-outline-gap {
        border-color: var(--mat-sys-outline-variant) !important;
      }

      &.mdc-text-field--focused .mat-mdc-form-field-outline {
        border-color: var(--mat-sys-primary) !important;
      }

      &.mdc-text-field--focused .mat-mdc-form-field-outline-start,
      &.mdc-text-field--focused .mat-mdc-form-field-outline-end,
      &.mdc-text-field--focused .mat-mdc-form-field-outline-gap {
        border-color: var(--mat-sys-primary) !important;
      }

      .mat-mdc-input-element {
        color: var(--mat-sys-on-surface) !important;
        background-color: var(--mat-sys-surface-container) !important;
      }

      .mat-mdc-icon-button {
        color: var(--mat-sys-on-surface-variant) !important;
        background-color: transparent !important;
      }

      .mat-mdc-icon-button:hover {
        background-color: var(--mat-sys-surface-container-highest) !important;
      }
    }
  }

  // Force light theme for form fields to prevent black backgrounds
  .mat-mdc-form-field {
    .mat-mdc-text-field-wrapper {
      background-color: var(--mat-sys-surface-container) !important;
    }

    .mat-mdc-form-field-flex {
      background-color: var(--mat-sys-surface-container) !important;
    }

    .mat-mdc-input-element {
      background-color: var(--mat-sys-surface-container) !important;
      color: var(--mat-sys-on-surface) !important;
    }
  }
}

/* Global Status Badge Styles */
.status-badge {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 4px;
  font-size: 12px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;

  &.status-active {
    background-color: #e8f5e9;
    color: #2e7d32;
    border: 1px solid #4caf50;
  }

  &.status-inactive {
    background-color: #ffebee;
    color: #c62828;
    border: 1px solid #ef9a9a;
  }
}
