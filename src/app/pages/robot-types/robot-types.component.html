<div class="robot-types-container">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-title">
        <mat-icon class="header-icon">smart_toy</mat-icon>
        <h1>Robot Types</h1>
      </div>
      <div class="header-actions">
        <button mat-raised-button
                color="primary"
                (click)="openCreateDialog()"
                [disabled]="isCreating">
          <mat-icon>add</mat-icon>
          Add Robot Type
        </button>
        <button mat-stroked-button
                (click)="exportRobotTypes()"
                [disabled]="isLoading || robotTypes.length === 0">
          <mat-icon>download</mat-icon>
          Export
        </button>
        <button mat-stroked-button
                (click)="refreshRobotTypes()"
                [disabled]="isLoading">
          <mat-icon>refresh</mat-icon>
          Refresh
        </button>
      </div>
    </div>
  </div>

  <!-- Statistics Cards -->
  <div class="stats-container">
    <mat-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon total">
          <mat-icon>smart_toy</mat-icon>
        </div>
        <div class="stat-details">
          <div class="stat-value">{{ getRobotTypesCount().total }}</div>
          <div class="stat-label">Total Robot Types</div>
        </div>
      </div>
    </mat-card>

    <mat-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon active">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-details">
          <div class="stat-value">{{ getRobotTypesCount().active }}</div>
          <div class="stat-label">Active</div>
        </div>
      </div>
    </mat-card>

    <mat-card class="stat-card">
      <div class="stat-content">
        <div class="stat-icon inactive">
          <mat-icon>pause_circle</mat-icon>
        </div>
        <div class="stat-details">
          <div class="stat-value">{{ getRobotTypesCount().inactive }}</div>
          <div class="stat-label">Inactive</div>
        </div>
      </div>
    </mat-card>
  </div>

  <!-- Main Content -->
  <mat-card class="main-content-card">
    <mat-card-header>
      <mat-card-title>Robot Types Management</mat-card-title>
      <mat-card-subtitle>Configure and manage robot type settings</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <!-- Table Component -->
      <app-generic-table
        [config]="tableConfig"
        [data]="robotTypes"
        [loading]="isLoading"
        (action)="onTableAction($event)"
        (sortChange)="onSortChange($event)"
        (pageChange)="onPageChange($event)"
        (filterChange)="onFilterChange($event)">
      </app-generic-table>

      <!-- Create Form (simplified inline form) -->
      <div class="create-form-section" *ngIf="false">
        <mat-divider></mat-divider>
        <div class="form-header">
          <h3>Create New Robot Type</h3>
        </div>
        <form [formGroup]="robotTypeForm" (ngSubmit)="createRobotType()" class="create-form">
          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Display Name</mat-label>
              <input matInput
                     formControlName="displayName"
                     placeholder="Enter display name">
              <mat-error *ngIf="robotTypeForm.get('displayName')?.hasError('required')">
                Display name is required
              </mat-error>
              <mat-error *ngIf="robotTypeForm.get('displayName')?.hasError('minlength')">
                Display name must be at least 3 characters
              </mat-error>
              <mat-error *ngIf="robotTypeForm.get('displayName')?.hasError('maxlength')">
                Display name cannot exceed 100 characters
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Actual Value</mat-label>
              <input matInput
                     formControlName="actualValue"
                     placeholder="Enter actual value">
              <mat-error *ngIf="robotTypeForm.get('actualValue')?.hasError('required')">
                Actual value is required
              </mat-error>
              <mat-error *ngIf="robotTypeForm.get('actualValue')?.hasError('minlength')">
                Actual value must be at least 1 character
              </mat-error>
              <mat-error *ngIf="robotTypeForm.get('actualValue')?.hasError('maxlength')">
                Actual value cannot exceed 50 characters
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-form-field appearance="outline" class="form-field full-width">
              <mat-label>Description</mat-label>
              <textarea matInput
                        formControlName="description"
                        placeholder="Enter description (optional)"
                        rows="3">
              </textarea>
              <mat-error *ngIf="robotTypeForm.get('description')?.hasError('maxlength')">
                Description cannot exceed 500 characters
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-row">
            <mat-checkbox formControlName="isActive" class="form-checkbox">
              Active
            </mat-checkbox>
          </div>

          <div class="form-actions">
            <button mat-raised-button
                    color="primary"
                    type="submit"
                    [disabled]="robotTypeForm.invalid || isCreating">
              <mat-icon>add</mat-icon>
              {{ isCreating ? 'Creating...' : 'Create Robot Type' }}
            </button>
            <button mat-stroked-button
                    type="button"
                    (click)="resetForm()"
                    [disabled]="isCreating">
              <mat-icon>clear</mat-icon>
              Clear
            </button>
          </div>
        </form>
      </div>
    </mat-card-content>
  </mat-card>
</div>