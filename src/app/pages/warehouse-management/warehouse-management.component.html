<!-- Loading State -->
<div class="loading-container" *ngIf="isLoading">
  <mat-card class="loading-card">
    <div class="loading-content">
      <mat-progress-spinner mode="indeterminate" diameter="50"></mat-progress-spinner>
      <p class="loading-text">Loading Workflow Template Configuration...</p>
    </div>
  </mat-card>
</div>

<!-- Main Content -->
<div class="warehouse-management-container" *ngIf="!isLoading">
  <!-- Header Card -->
  <mat-card class="header-card">
    <div class="header-content">
      <div class="header-left">
        <h1 class="page-title">
          Workflow Template Configuration
        </h1>
        <p class="page-subtitle">Configure workflow templates with decision rules, mission types, robot types, and strategies</p>
      </div>
      <div class="header-stats">
        <div class="stat-item">
          <span class="stat-value">{{ getConfigurationStats().totalRules }}</span>
          <span class="stat-label">Rules</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ getConfigurationStats().totalMissionTypes }}</span>
          <span class="stat-label">Mission Types</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ getConfigurationStats().totalRobotTypes }}</span>
          <span class="stat-label">Robot Types</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ getConfigurationStats().totalResumeStrategies }}</span>
          <span class="stat-label">Resume Strategies</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ getConfigurationStats().totalAreas }}</span>
          <span class="stat-label">Areas</span>
        </div>
        <div class="stat-item">
          <span class="stat-value">{{ getConfigurationStats().totalOrganizationIds }}</span>
          <span class="stat-label">Organization IDs</span>
        </div>
      </div>
    </div>
  </mat-card>

  <!-- Tab Navigation -->
  <mat-card class="tabs-card">
    <div class="tabs-content">
      <mat-tab-group
        [selectedIndex]="selectedTabIndex"
        (selectedIndexChange)="onTabChange($event)"
        class="warehouse-tabs"
        mat-stretch-tabs="false"
        animationDuration="0ms">

        <!-- Shelf Decision Rules Tab -->
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon">rule</mat-icon>
            <span class="tab-label">Shelf Decision Rules</span>
          </ng-template>
          <div class="tab-content">
            <app-shelf-decision-rules></app-shelf-decision-rules>
          </div>
        </mat-tab>

        <!-- Mission Types Tab -->
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon">assignment</mat-icon>
            <span class="tab-label">Mission Types</span>
          </ng-template>
          <div class="tab-content">
            <app-mission-types></app-mission-types>
          </div>
        </mat-tab>

        <!-- Robot Types Tab -->
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon">smart_toy</mat-icon>
            <span class="tab-label">Robot Types</span>
          </ng-template>
          <div class="tab-content">
            <app-robot-types></app-robot-types>
          </div>
        </mat-tab>

        <!-- Resume Strategies Tab -->
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon">restart_alt</mat-icon>
            <span class="tab-label">Resume Strategies</span>
          </ng-template>
          <div class="tab-content">
            <app-resume-strategies></app-resume-strategies>
          </div>
        </mat-tab>

        <!-- Areas Tab -->
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon">location_on</mat-icon>
            <span class="tab-label">Areas</span>
          </ng-template>
          <div class="tab-content">
            <app-areas></app-areas>
          </div>
        </mat-tab>

        <!-- Organization IDs Tab -->
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="tab-icon">business</mat-icon>
            <span class="tab-label">Organization IDs</span>
          </ng-template>
          <div class="tab-content">
            <app-organization-ids></app-organization-ids>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </mat-card>
</div>

